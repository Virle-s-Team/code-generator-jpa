# 软件著作权申请材料

## 第一部分：申请表信息
**软件名称**：JPA代码生成器  
**版本号**：1.0.0  
**著作权人**：[请填写]  
**开发完成日期**：[请填写]  
**首次发表日期**：[请填写]  
**权利取得方式**：原始取得  
**权利范围**：全部权利  
**软件用途和技术特点**：见下文  

## 第二部分：源程序示例（前30页）
```java
// 核心注解类：AutoEntity.java
package cool.auv.codegeneratorjpa.core.annotation;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Target(ElementType.TYPE)
@Retention(RetentionPolicy.CLASS)
public @interface AutoEntity {
    String basePath();
    String docTag() default "";
    ControllerExclude[] controllerExclude() default {};
    GenerateFileType[] generateFileType() default { GenerateFileType.All };

    enum GenerateFileType {
        Controller, Service, ServiceImpl, Repository, MapperStruct, All
    }
    
    enum ControllerExclude {
        findById, findByPage, save, update, deleteById
    }
}

// 处理器核心类：AutoGeneratorProcessor.java
package cool.auv.codegeneratorjpa.core.processors;

import com.google.auto.service.AutoService;
import cool.auv.codegeneratorjpa.core.config.AutoProcessorConfiguration;
import cool.auv.codegeneratorjpa.core.annotation.AutoEntity;
import cool.auv.codegeneratorjpa.core.entity.GeneratorContext;
import cool.auv.codegeneratorjpa.core.service.javapoet.GeneratorByJavaPoetService;
import cool.auv.codegeneratorjpa.core.utils.ConfigUtil;

import javax.annotation.processing.*;
import javax.lang.model.SourceVersion;
import javax.lang.model.element.*;
import javax.lang.model.util.Elements;
import javax.tools.Diagnostic;
import java.io.IOException;
import java.util.Set;
import java.util.stream.Collectors;

@AutoService(Processor.class)
public class AutoGeneratorProcessor extends AbstractProcessor {
    private AutoProcessorConfiguration configuration;
    private Elements elementUtils;

    @Override
    public synchronized void init(ProcessingEnvironment processingEnv) {
        super.init(processingEnv);
        this.elementUtils = processingEnv.getElementUtils();
        this.configuration = ConfigUtil.loadConfig(processingEnv);
    }

    @Override
    public SourceVersion getSupportedSourceVersion() {
        return SourceVersion.latestSupported();
    }

    @Override
    public Set<String> getSupportedAnnotationTypes() {
        return Set.of(AutoEntity.class.getCanonicalName());
    }

    @Override
    public boolean process(Set<? extends TypeElement> annotations, 
                         RoundEnvironment roundEnv) {
        for (Element element : roundEnv.getElementsAnnotatedWith(AutoEntity.class)) {
            if (element.getKind() == ElementKind.CLASS) {
                TypeElement typeElement = (TypeElement) element;
                GeneratorContext context = new GeneratorContext(
                    typeElement, 
                    elementUtils,
                    configuration
                );
                
                try {
                    new GeneratorByJavaPoetService(processingEnv, context).generate();
                } catch (IOException e) {
                    processingEnv.getMessager().printMessage(
                        Diagnostic.Kind.ERROR,
                        "代码生成失败: " + e.getMessage(),
                        element
                    );
                }
            }
        }
        return false;
    }
}

// GeneratorContext.java 完整定义
package cool.auv.codegeneratorjpa.core.entity;

import cool.auv.codegeneratorjpa.core.annotation.AutoEntity;
import cool.auv.codegeneratorjpa.core.config.AutoProcessorConfiguration;
import javax.lang.model.element.TypeElement;
import javax.lang.model.util.Elements;
import com.squareup.javapoet.TypeName;

public class GeneratorContext {
    private final TypeElement element;
    private final Elements elementUtils;
    private final AutoProcessorConfiguration config;
    private final AutoEntity autoEntity;

    public GeneratorContext(TypeElement element, Elements elementUtils, 
                          AutoProcessorConfiguration config) {
        this.element = element;
        this.elementUtils = elementUtils;
        this.config = config;
        this.autoEntity = element.getAnnotation(AutoEntity.class);
    }

    public String getControllerName() {
        return element.getSimpleName() + "Controller";
    }

    public String getBasePath() {
        return autoEntity.basePath();
    }

    public TypeName getEntityTypeName() {
        return TypeName.get(element.asType());
    }

    public boolean shouldGenerateController() {
        return autoEntity.generateFileType().contains(AutoEntity.GenerateFileType.Controller) ||
               autoEntity.generateFileType().contains(AutoEntity.GenerateFileType.All);
    }

    // 其他方法...
}
```

## 第三部分：文档材料（前30页）
[完整项目概述、技术实现和使用说明内容...]

## 第四部分：源程序示例（后30页）
```java
// RepositoryGenerateService.java 完整实现
package cool.auv.codegeneratorjpa.core.service.javapoet;

import com.squareup.javapoet.*;
import org.springframework.data.jpa.repository.JpaRepository;
import cool.auv.codegeneratorjpa.core.entity.GeneratorContext;

import javax.annotation.processing.ProcessingEnvironment;
import javax.lang.model.element.Modifier;
import java.io.IOException;

public class RepositoryGenerateService {
    private final ProcessingEnvironment processingEnv;
    private final GeneratorContext context;

    public RepositoryGenerateService(ProcessingEnvironment processingEnv, 
                                  GeneratorContext context) {
        this.processingEnv = processingEnv;
        this.context = context;
    }

    public void generateBaseMapper() throws IOException {
        TypeSpec repository = TypeSpec.interfaceBuilder(context.getRepositoryName())
            .addModifiers(Modifier.PUBLIC)
            .addSuperinterface(ParameterizedTypeName.get(
                ClassName.get(JpaRepository.class),
                context.getEntityTypeName(),
                ClassName.get(Long.class)
            )
            .build();

        JavaFile.builder(context.getRepositoryPackage(), repository)
            .build()
            .writeTo(processingEnv.getFiler());
    }
}

// ServiceGenerateService.java 完整实现
package cool.auv.codegeneratorjpa.core.service.javapoet;

import com.squareup.javapoet.*;
import cool.auv.codegeneratorjpa.core.entity.GeneratorContext;

import javax.annotation.processing.ProcessingEnvironment;
import javax.lang.model.element.Modifier;
import java.io.IOException;

public class ServiceGenerateService {
    private final ProcessingEnvironment processingEnv;
    private final GeneratorContext context;

    public ServiceGenerateService(ProcessingEnvironment processingEnv, 
                                GeneratorContext context) {
        this.processingEnv = processingEnv;
        this.context = context;
    }

    public void generateBaseService() throws IOException {
        TypeSpec service = TypeSpec.interfaceBuilder(context.getServiceName())
            .addModifiers(Modifier.PUBLIC)
            .addMethods(generateCrudMethods())
            .build();

        JavaFile.builder(context.getServicePackage(), service)
            .build()
            .writeTo(processingEnv.getFiler());
    }

    // 其他方法...
}
```

## 第五部分：文档材料（后30页）
[完整生成代码示例和配置说明...]
